<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Lunch?</title>
		<!-- Kendo Styles -->
        <link rel="stylesheet" type="text/css" href="kendo.2014.3.1119/styles/kendo.common.min.css" />
        <link rel="stylesheet" type="text/css" href="kendo.2014.3.1119/styles/kendo.default.min.css" />
        <link rel="stylesheet" type="text/css" href="kendo.2014.3.1119/styles/kendo.mobile.common.min.css" />
        <link rel="stylesheet" type="text/css" href="kendo.2014.3.1119/styles/kendo.mobile.all.min.css" />

		<!-- Local Styles -->
		<link rel="stylesheet" type="text/css" href="styles/index.css" />
        <link rel="stylesheet/less" type="text/css" href="styles/styles.less" />
		
		<!--- Cordova - Loaded on mobile apps only -->
        <script type="text/javascript" src="cordova.js"></script>
		
		<!-- jQuery Js -->
		<script src="kendo.2014.3.1119/js/jquery-1.9.1.js"></script>
		
		<!-- Kendo Js -->
		<script src="kendo.2014.3.1119/js/kendo.all.js"></script>
	    <script src="kendo.2014.3.1119/js/everlive.all.js"></script>
		
		<!-- MillionMunkeys Js -->
		<!--
		<script src="MillionMunkeys/KendoMunkey_1_1.js"></script>
		-->
		<script src="MillionMunkeys/KendoMunkey_1_2/Observable.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/Log.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/Widget.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/Button.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/ModalView.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/DataSource.js"></script>
    	<script src="MillionMunkeys/KendoMunkey_1_2/Validator.js"></script>
    	<script src="MillionMunkeys/KendoMunkey_1_2/ColorPicker.js"></script>
    	<script src="MillionMunkeys/KendoMunkey_1_2/ListView.js"></script>
    	<script src="MillionMunkeys/KendoMunkey_1_2/Grid.js"></script>
		
        <!-- Less.js -->
        <script src="scripts/less-1.7.5.min.js" type="text/javascript"></script>
        
		<!-- Lunch Code -->
		<script src="scripts/config.js"></script>
        <script src="scripts/account.js"></script>
		<script src="scripts/preferences.js"></script>
		<script src="scripts/food.js"></script>
		<script src="scripts/results.js"></script>
	
		<!-- Demo Code
        <script src="scripts/identity-provider.js"></script>
        <script src="scripts/main.js"></script> -->
		
		<!-- Initialize -->
		<script type="text/javascript">
			$(function() {
				window.app = new kendo.mobile.Application(document.body,{
					layout: "android-layout",
					init: function(e) {
						for (var layout in this.pane.viewEngine.layouts) {
							this.pane.viewEngine.layouts[layout].bind("show", account.verify);
						}
						var layout = this.pane.viewEngine.layouts[this.pane.viewEngine.layout];
						// This must be called onInit to make sure that app exists for the handlers.
						account.verify.call(layout, {
							layout: layout,
							sender: layout,
							view: this.view()
						});
						pi.console.bind("change", function(e) {
							if (e.action === "add") {
								alert(e.items[0].message);
							}
						});
						food.init();
					}
				});
			});
		</script>
		
		<!-- Google Analytics -->
		<!-- script src="scripts/Google.js"></script -->

	</head>
	
	<body>
		<div id="login" data-role="view" title="Login" data-user-roles="false">
			<form id="LoginForm" method="get" data-source="account">
				<ul data-role="listview" data-style="inset">
					<li><label>Email: <input type="email" name="Username" required="required" /></label></li>
					<li><label>Password: <input type="password" name="Password" required="required" /></label></li>
					<li><button type="submit">Login</button>
				</ul>
			</form>
		</div>
		
		<div id="logout" data-role="view" title="Login" data-user-roles="true">
			<form id="Logout" method="delete" data-source="account">
				<ul data-role="listview" data-style="inset">
					<li><button type="submit">Logout</button>
				</ul>
			</form>
		</div>

        <div id="results" data-role="view" data-title="Where?" data-user-roles="true">
            <div class="all-groups">
            </div>
        </div>
        <div id="results_detail" data-role="view" data-title="Where?" data-user-roles="true">
            <div class="img">
                <img src="img/color-table.png"/>
            </div>
            <div class="details">
                <span class="genre"></span>
                <span class="time"></span>
                <div class="scroll-list" data-role="scroller">
                    <ul class="people" data-role="listview"></ul>
                </div>
            </div>
        </div>
		
        <div id="social-login" data-role="view">
			<div class="app">
				<button id="loginFb">Login with Facebook</button>
				<button id="loginGoogle">Login with Google</button>
				<button id="loginLiveId">Login with LiveID</button>
				<button id="loginADFS">Login with ADFS</button>
			</div>
        </div>
		
		<!-- Layouts -->
		
		<div data-id="ios-layout" data-role="layout">
			<header data-role="header">
				<nav data-role="navbar">
                    <button class="menu-button icon-menu-3">Menu</button>
					<div data-role="view-title">Lunch?</div>
				</nav>
			</header>
			<footer data-role="footer">
		        <div data-role="tabstrip">
					<!-- <a data-icon="home" href="login.html">Login</a>
                    <a data-icon="recents" href="preferences.html">Daily Preferences</a>
                    <a data-icon="cart" href="food.html">Food Preferences</a>
                    <a data-icon="search" href="results.html">Results</a> -->
				</div>
	        </footer>
		</div>
		
		<div data-id="android-layout" data-role="layout">
			<header data-role="header">
				<nav data-role="navbar">
					<a data-role="button" class="menu-button" data-rel="drawer" href="#drawer" data-align="left">&lt;</a>
					<div data-role="view-title">Lunch?</div>
				</nav>
			</header>
		</div>
		<div data-role="drawer" id="drawer">
            <div data-role="view-title">Daily Prefs</div>
			<ul data-role="listview" data-type="group">
				<li>
					<!-- Time Preferences -->
					<ul>
						<form id="dailyprefs" data-source="preferences" data-storage="localStorage">
							<li>
								<label for="startTime">Earliest I can leave</label>
								<input name="StartTime" type="datetime" data-role="timepicker" data-format="h:mm tt" value="12:00" min="10:30" max="15:00" />
							</li>
							
							<li>
								<label for="endTime">Latest I can be back</label>
								<input name="EndTime" type="datetime" data-role="timepicker" data-format="h:mm tt" value="13:00" min="11:00" max="16:00" />
							</li>
						</form>
					</ul>
				</li>
				<li id="FoodPreferences">
					<!-- Food Preferences -->
					<form id="Lunch.Priority0" data-source="Everlive.DailyFoodPreferences" data-storage="localStorage" data-filter="#=account.getFilter({field:'Priority',operator:'eq',value:0})#" data-server-filtering="true" data-default="#=food.getDefaultPreferences({Priority:0})#" data-change="food.onChange">
						<select name="FoodCategory" placeholder="Enter food choice..." data-role="combobox" data-value-field="Id" data-text-field="Name" data-source="Everlive.FoodCategories" data-storage="localStorage"></select>
					</form>
					<form id="Lunch.Priority1" data-source="Everlive.DailyFoodPreferences" data-storage="localStorage" data-filter="#=account.getFilter({field:'Priority',operator:'eq',value:1})#" data-server-filtering="true" data-default="#=food.getDefaultPreferences({Priority:1})#" data-change="food.onChange">
						<select name="FoodCategory" placeholder="Enter food choice..." data-role="combobox" data-value-field="Id" data-text-field="Name" data-source="Everlive.FoodCategories" data-storage="localStorage"></select>
					</form>
					<form id="Lunch.Priority2" data-source="Everlive.DailyFoodPreferences" data-storage="localStorage" data-filter="#=account.getFilter({field:'Priority',operator:'eq',value:2})#" data-server-filtering="true" data-default="#=food.getDefaultPreferences({Priority:2})#" data-change="food.onChange">
						<select name="FoodCategory" placeholder="Enter food choice..." data-role="combobox" data-value-field="Id" data-text-field="Name" data-source="Everlive.FoodCategories" data-storage="localStorage"></select>
					</form>
				</li>
			</ul>
			<div data-role="footer">
				<ul data-role="listview" data-type="group">
					<li>
						<form action="#" id="Logout" method="delete" data-source="account">
							<div class="account" data-bind="text:Email"></div>
							<button type="submit">Logout</button>
						</form>
					</li>
				</ul>
			</div>
		</div>
		
	</body>
</html>
