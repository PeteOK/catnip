<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>Lunch?</title>
		<!-- Kendo Styles -->
        <link rel="stylesheet" type="text/css" href="kendo.2014.3.1119/styles/kendo.common.min.css" />
        <link rel="stylesheet" type="text/css" href="kendo.2014.3.1119/styles/kendo.dataviz.min.css" />
        <link rel="stylesheet" type="text/css" href="kendo.2014.3.1119/styles/kendo.dataviz.material.min.css" />
        <link rel="stylesheet" type="text/css" href="kendo.2014.3.1119/styles/kendo.material.min.css" />
        <link rel="stylesheet" type="text/css" href="kendo.2014.3.1119/styles/kendo.material.mobile.min.css" />

		<!-- Local Styles -->
        <link rel="stylesheet/less" type="text/css" href="styles/material.less" />
		
		<!--- Cordova - Loaded on mobile apps only -->
        <script type="text/javascript" src="cordova.js"></script>
		
		<!-- jQuery Js -->
		<script src="kendo.2014.3.1119/js/jquery-1.9.1.js"></script>
		
		<!-- Kendo Js -->
		<script src="kendo.2014.3.1119/js/kendo.all.js"></script>
	    <script src="kendo.2014.3.1119/js/everlive.all.js"></script>
		
		<!-- MillionMunkeys Js -->
		<!--
		<script src="MillionMunkeys/KendoMunkey_1_1.js"></script>
		-->
		<script src="MillionMunkeys/KendoMunkey_1_2/Observable.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/Log.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/Widget.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/DataSource.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/Button.js"></script>
		<script src="MillionMunkeys/KendoMunkey_1_2/ModalView.js"></script>
    	<script src="MillionMunkeys/KendoMunkey_1_2/Validator.js"></script>
    	<script src="MillionMunkeys/KendoMunkey_1_2/ColorPicker.js"></script>
    	<script src="MillionMunkeys/KendoMunkey_1_2/ListView.js"></script>
    	<script src="MillionMunkeys/KendoMunkey_1_2/Grid.js"></script>
    	<script src="MillionMunkeys/KendoMunkey_1_2/Touch.js"></script>
		
        <!-- Less.js -->
        <script src="scripts/less-1.7.5.min.js" type="text/javascript"></script>
        
		<!-- Lunch Code -->
		<script src="scripts/config.js"></script>
        <script src="scripts/account.js"></script>
		<script src="scripts/food.js"></script>
		<script src="scripts/results.js"></script>
		<script src="scripts/preferences.js"></script>
	
		<!-- Demo Code
        <script src="scripts/identity-provider.js"></script>
        <script src="scripts/main.js"></script> -->
		
		<!-- Initialize -->
		<script type="text/javascript">
			$(function() {
				window.app = new kendo.mobile.Application(document.body,{
					layout: "material-design",
					init: function(e) {
						for (var layout in this.pane.viewEngine.layouts) {
							this.pane.viewEngine.layouts[layout].bind("show", account.verify);
						}
						var layout = this.pane.viewEngine.layouts[this.pane.viewEngine.layout];
						// This must be called onInit to make sure that app exists for the handlers.
						account.verify.call(layout, {
							layout: layout,
							sender: layout,
							view: this.view()
						});
						pi.console.bind("change", function(e) {
							if (e.action === "add") {
								if (!e.items[0].message && navigator && navigator.onLine === false)
									e.items[0].message = "Not connected to the internet. We will try again later.";
								var message = e.items[0].message;
								if (e.items[0].event)
									message = e.items[0].event + "\n" + message;
								if (e.items[0].stack)
									message = message + "\n" + e.items[0].stack.match(/\((.*\/)?(.*)\)/)[2];
								alert(message);
							}
						});
					}
				});
			});
		</script>
		
		<!-- Google Analytics -->
		<!-- script src="scripts/Google.js"></script -->

	</head>
	
	<body>
		<div id="login" data-role="view" title="Login" data-user-roles="false" data-layout="">
			<header data-role="header">
				<nav data-role="navbar">
					<div data-role="view-title">Lunch?</div>
				</nav>
			</header>
			<form id="LoginForm" method="get" data-source="account">
				<ul data-role="listview" data-style="inset">
					<li><label>Email: <input type="email" name="Username" required="required" /></label></li>
					<li><label>Password: <input type="password" name="Password" required="required" /></label></li>
					<li class="actions"><button type="submit" data-align="right">Login</button>
				</ul>
			</form>
		</div>
		
		<div id="logout" data-role="view" title="Login" data-user-roles="true">
			<form id="Logout" method="delete" data-source="account">
				<ul data-role="listview" data-style="inset">
					<li><button type="submit">Logout</button>
				</ul>
			</form>
		</div>

		<div id="results" data-role="view" data-user-roles="true" data-init="results.initView">
			<div data-role="header">
					<ul id="preferences">
						<li>
							<!-- Time Preferences -->
							<ul>
								<form id="dailyprefs" data-source="preferences">
									<li class="start">
										<label for="StartTime">Earliest I can leave: </label>
										<input name="StartTime" type="datetime" data-role="timepicker" data-format="h:mm tt" value="12:00" min="10:30" max="15:00" />
									</li>
									
									<li class="end">
										<label for="EndTime">Latest I can be back: </label>
										<input name="EndTime" type="datetime" data-role="timepicker" data-format="h:mm tt" value="13:00" min="11:00" max="16:00" />
									</li>
									<li class="food">
										<label for="FoodCategories">Food Choices: </label>
										<select name="FoodCategories" placeholder="Pick food choice(s)..." data-role="multiselect" data-max-selected-items="3" data-value-field="Id" data-text-field="Name" data-height="125" data-source="food"></select>
									</li>
									<li class="brought">
										<label>
											I brought:
											<input name="Brought" data-role="switch" data-on-label="Yes" data-off-label="No" type="checkbox" data-type="boolean" />
										</label>
									</li>
								</form>
							</ul>
						</li>
					</ul>
				<div data-role="navbar">
					<div data-role="view-title" onclick="preferences.open()">Lunch?</div>
					<form id="in" data-align="right" data-source="preferences">
						<input name="OptOut" data-role="switch" data-on-label="No" data-off-label="Yes" type="checkbox" />
					</form>
				</div>
				<div id="opener" onclick="preferences.open()"><span class="k-icon k-i-arrow-s"></span></div>
			</div>
			<!--
			<div id="map" data-role="map" style="height: 30%">
				
			</div>
			-->
			<div class="all-groups">
			</div>
			<div id="lastsync"></div>
			<div data-role="footer">
				<form id="Logout" data-align="right" method="delete" data-source="account">
					<span data-bind="text:Username"></span>
					<button type="submit" data-align="right">Logout</button>
				</form>
				<form id="version" data-source="configdb"><span data-bind="text:version"></span></form>
			</div>
		</div>
		
		<!--
    	<div id="results1" data-role="view" data-user-roles="true">
			<div data-role="header">
				<div data-role="navbar">
					<div data-role="view-title">Lunch?</div>
					<form id="Logout" data-align="right" method="delete" data-source="account">
						<button type="submit">Logout</button>
					</form>
				</div>
			</div>
			<div id="main" data-role="splitter" data-orientation="horizontal">
				<div id="preferences" data-width="20%" data-collapsible="false" resizeable="true">
					<ul data-role="listview" data-type="group">
						<li>
							<ul>
								<form id="dailyprefs" data-source="preferences" data-storage="localStorage">
									<li>
										<label for="startTime">Earliest I can leave</label>
										<input name="StartTime" type="datetime" data-role="timepicker" data-format="h:mm tt" value="12:00" min="10:30" max="15:00" />
									</li>
									
									<li>
										<label for="endTime">Latest I can be back</label>
										<input name="EndTime" type="datetime" data-role="timepicker" data-format="h:mm tt" value="13:00" min="11:00" max="16:00" />
									</li>
								</form>
							</ul>
						</li>
					</ul>
				</div>
				<div id="center" data-role="splitter" data-orientation="vertical" data-collapsible="true">
					<div id="map" data-role="map" data-width="20%">
						
					</div>
					<div data-role="pane">
						<div id="results" data-role="view" data-user-roles="true">
							<div class="all-groups">
							</div>
						</div>
						<div id="results_detail" data-role="view" data-title="Where?" data-user-roles="true">
							<div class="img">
								<img src="img/color-table.png"/>
							</div>
							<div class="details">
								<span class="genre"></span>
								<span class="time"></span>
								<div class="scroll-list" data-role="scroller">
									<ul class="people" data-role="listview"></ul>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		-->
		
        <div id="social-login" data-role="view">
			<div class="app">
				<button id="loginFb">Login with Facebook</button>
				<button id="loginGoogle">Login with Google</button>
				<button id="loginLiveId">Login with LiveID</button>
				<button id="loginADFS">Login with ADFS</button>
			</div>
        </div>
		
	</body>
</html>
